openwisp2fw_openssl_lib: polarssl
openwisp2fw_base_recompile: "{{ recompile|default(false) }}"
openwisp2fw_base_cores: "{{ cores|default(1) }}"
# apt packages needed for compilation
openwisp2fw_apt_make_dependencies:
    - build-essential
    - git
    - libncurses5-dev
    - zlib1g-dev
    - unzip
    - libssl-dev
    - subversion
    - wget
# base OpenWRT or LEDE repository, defaults to official OpenWRT repo
openwisp2fw_base_repo: https://github.com/openwrt/openwrt.git
# base OpenWRT or LEDE version, defaults to HEAD (master git branch)
# accepted values: "HEAD", a branch name, a tag name or a SHA-1 commit hash
openwisp2fw_base_version: HEAD
openwisp2fw_base_dir: ~/openwisp2-imagegenerator-base
openwisp2fw_base_feeds:
    - method: src-git
      name: packages
      location: https://github.com/openwrt/packages.git
    - method: src-git
      name: luci
      location: https://github.com/openwrt/luci.git
    - method: src-git
      name: targets
      location: https://github.com/openwrt/targets.git
    - method: src-git
      name: openwisp
      location: https://github.com/openwisp/openwisp-config.git
    - method: src-git
      name: luciopenwisp
      location: https://github.com/openwisp/luci-openwisp.git
# the following packages will be compiled and added
# to all the firmware images by default
openwisp2fw_base_default_packages:
    - openwisp-config-openssl
    - openwisp-config-polarssl
    - luci-openwisp-openssl
    - luci-openwisp-polarssl
    - openvpn-openssl
    - openvpn-polarssl
# the following packages are compiled for convenience
# so they can be added by using playbook variables if needed
openwisp2fw_base_additional_packages:
    - wpad
    - iputils-ping
    - ip-full
    - wget
    - kmod-3c59x
    - kmod-e100
    - kmod-e1000
    - kmod-natsemi
    - kmod-ne2k-pci
    - kmod-pcnet32
    - kmod-8139too
    - kmod-r8169
    - kmod-sis900
    - kmod-tg3
    - kmod-via-rhine
    - kmod-via-velocity
    - kmod-button-hotplug
    - partx-utils
openwisp2fw_base_other_configs:
    - CONFIG_BUSYBOX_CUSTOM=y
    - CONFIG_BUSYBOX_CONFIG_FEATURE_EDITING_SAVEHISTORY=y
    - CONFIG_BUSYBOX_CONFIG_FEATURE_EDITING_SAVE_ON_EXIT=y
    - CONFIG_BUSYBOX_CONFIG_FEATURE_REVERSE_SEARCH=y
    - CONFIG_BUSYBOX_CONFIG_FEATURE_VI_UNDO=y
openwisp2fw_base_archs:
    - ar71xx
    - x86
openwisp2fw_generator_dir: ~/openwisp2-firmware-generator
openwisp2fw_image_dir: ~/openwisp2-firmware-images
openwisp2fw_image_flavours:
    standard:
      ar71xx:
        profile: Default
        packages: "{{ openwisp2fw_default_packages }}"
      x86:
        profile: Generic
        packages: "{{ openwisp2fw_default_packages }}"
openwisp2fw_default_packages:
    # these packages will be removed
    - -iptables
    - -ip6tables
    - -ppp
    - -ppp-mod-pppoe
    - -firewall
    - -odhcpd
    - -odhcp6c
    # these packages will be added
    - uhttpd
    - uhttpd-mod-ubus
    - px5g
    - luci-theme-openwisp
    - luci-mod-openwisp
    - libustream-{{ openwisp2fw_openssl_lib }}
    - openvpn-{{ openwisp2fw_openssl_lib }}
    - openwisp-config-{{ openwisp2fw_openssl_lib }}
openwisp2fw_default_unmanaged:
    - system.@led
    - network.loopback
    - network.@switch
    - network.@switch_vlan
openwisp2fw_bin_dir: /var/www/openwisp2-firmware-builds
openwisp2fw_organizations:
    - name: testorg
      flavours:
        - standard
      luci_openwisp:
        username: "operator"
        password: "$1$openwisp$iQpdG2IrO4lya98cODuUB/"  # password
        salt: "openwisp"
      openwisp:
        url: ""
        secret: ""
        unmanaged: "{{ openwisp2fw_default_unmanaged }}"
